(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-03e394b4"],{"0e4b":function(e,t,n){"use strict";n("492a")},1:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},"492a":function(e,t,n){},5:function(e,t){},6:function(e,t){},cc45:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pdf-viewer"},[n("div",{staticClass:"controls"},[n("button",{attrs:{disabled:e.pageNum<=1},on:{click:e.prevPage}},[e._v("上一页")]),n("span",[e._v("第 "+e._s(e.pageNum)+" / "+e._s(e.totalPages)+" 页")]),n("button",{attrs:{disabled:e.pageNum>=e.totalPages},on:{click:e.nextPage}},[e._v("下一页")]),n("button",{on:{click:e.zoomOut}},[e._v("缩小")]),n("span",[e._v("缩放: "+e._s((100*e.scale).toFixed(0))+"%")]),n("button",{on:{click:e.zoomIn}},[e._v("放大")]),n("button",{on:{click:function(t){return e.$emit("close")}}},[e._v("关闭")])]),n("canvas",{ref:"pdfCanvas"})])},c=[],o=n("c14f"),r=n("1da1"),s=n("f9cb"),i=n("8658"),u=n.n(i);s["GlobalWorkerOptions"].workerSrc=u.a;var f={name:"PdfViewer",props:{pdfName:{type:String,required:!0}},data:function(){return{pdfDoc:null,pageNum:1,totalPages:0,scale:1}},watch:{pdfName:"loadPdf"},mounted:function(){this.loadPdf()},methods:{loadPdf:function(){var e=this;return Object(r["a"])(Object(o["a"])().m((function t(){var n,a;return Object(o["a"])().w((function(t){while(1)switch(t.p=t.n){case 0:return n="/pdf/".concat(e.pdfName,".pdf"),t.p=1,t.n=2,s["getDocument"](n).promise;case 2:e.pdfDoc=t.v,e.totalPages=e.pdfDoc.numPages,e.pageNum=1,e.renderPage(),t.n=4;break;case 3:t.p=3,a=t.v,console.error("加载 PDF 出错:",a);case 4:return t.a(2)}}),t,null,[[1,3]])})))()},renderPage:function(){var e=this;return Object(r["a"])(Object(o["a"])().m((function t(){var n,a,c,r,s;return Object(o["a"])().w((function(t){while(1)switch(t.n){case 0:return t.n=1,e.pdfDoc.getPage(e.pageNum);case 1:return n=t.v,a=n.getViewport({scale:e.scale}),c=e.$refs.pdfCanvas,r=c.getContext("2d"),c.height=a.height,c.width=a.width,s={canvasContext:r,viewport:a},t.n=2,n.render(s).promise;case 2:return t.a(2)}}),t)})))()},prevPage:function(){this.pageNum>1&&(this.pageNum--,this.renderPage())},nextPage:function(){this.pageNum<this.totalPages&&(this.pageNum++,this.renderPage())},zoomIn:function(){this.scale+=.2,this.renderPage()},zoomOut:function(){this.scale>.4&&(this.scale-=.2,this.renderPage())}}},d=f,p=(n("0e4b"),n("2877")),l=Object(p["a"])(d,a,c,!1,null,"73facc5c",null);t["default"]=l.exports}}]);