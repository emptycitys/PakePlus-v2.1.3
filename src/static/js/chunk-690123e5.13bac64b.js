(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-690123e5","chunk-03e394b4"],{"0e4b":function(e,t,a){"use strict";a("492a")},1:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},"492a":function(e,t,a){},5:function(e,t){},"5a53":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"background-color":"#f5f7fa",padding:"20px","border-radius":"8px"}},[a("div",{staticStyle:{"margin-bottom":"20px"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-download"},on:{click:e.downloadSample}},[e._v("下载导入模板")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-document"},on:{click:function(t){return e.$refs.excelInput.click()}}},[e._v("上传数据")]),a("input",{ref:"excelInput",staticStyle:{display:"none"},attrs:{type:"file",accept:".xlsx, .xls"},on:{change:e.uploadExcel}})],1),a("div",{staticClass:"custom-card"},[a("el-table",{staticStyle:{width:"2000px"},attrs:{data:e.tableData,border:"",stripe:"","header-cell-style":{background:"#f5f7fa",color:"#4e4b4b",fontWeight:"bold"}}},[a("el-table-column",{attrs:{label:"全方向有效波高和谱峰周期联合分布概率分布表","header-align":"center",align:"center"}},[a("el-table-column",{attrs:{prop:"A",label:"中值波高","header-align":"center",align:"center",width:"120"}}),a("el-table-column",{attrs:{prop:"B",label:"中值波高","header-align":"center",align:"center",width:"120"}}),a("el-table-column",{attrs:{prop:"C",label:"0.25","header-align":"center",align:"center",width:"120"}}),a("el-table-column",{attrs:{prop:"D",label:"0.75","header-align":"center",align:"center",width:"120"}}),a("el-table-column",{attrs:{prop:"E",label:"1.25","header-align":"center",align:"center",width:"120"}}),a("el-table-column",{attrs:{prop:"F",label:"1.75","header-align":"center",align:"center",width:"120"}}),a("el-table-column",{attrs:{prop:"G",label:"2.25","header-align":"center",align:"center",width:"120"}}),a("el-table-column",{attrs:{prop:"H",label:"2.75","header-align":"center",align:"center",width:"120"}}),a("el-table-column",{attrs:{prop:"I",label:"3.25","header-align":"center",align:"center",width:"120"}}),a("el-table-column",{attrs:{prop:"J",label:"3.75","header-align":"center",align:"center",width:"120"}}),a("el-table-column",{attrs:{prop:"K",label:"4.25","header-align":"center",align:"center",width:"120"}}),a("el-table-column",{attrs:{prop:"L",label:"4.75","header-align":"center",align:"center",width:"120"}}),a("el-table-column",{attrs:{prop:"M",label:"5.25","header-align":"center",align:"center",width:"120"}}),a("el-table-column",{attrs:{prop:"N",label:"5.75","header-align":"center",align:"center",width:"120"}}),a("el-table-column",{attrs:{prop:"O",label:"周期概率和","header-align":"center",align:"center",width:"120",formatter:function(t){return e.formatNumber(t.O)}}})],1)],1)],1),a("div",{staticClass:"custom-card",staticStyle:{"margin-top":"20px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData2,border:"",stripe:"","header-cell-style":{background:"#f5f7fa",color:"#4e4b4b",fontWeight:"bold"}}},[a("el-table-column",{attrs:{label:"波浪总数计算","header-align":"center",align:"center"}},[a("el-table-column",{attrs:{prop:"A",label:"项目","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"B",label:"数值","header-align":"center",align:"center",formatter:function(t){return e.formatNumber(t.B)}}})],1)],1)],1),a("el-button",{attrs:{type:"primary",icon:"el-icon-document"},on:{click:e.exportExcel}},[e._v("导出表格数据")]),a("div",{staticClass:"custom-table-container"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData3,border:"",stripe:"","header-cell-style":{background:"#f5f7fa",color:"#4e4b4b",fontWeight:"bold"}}},[a("el-table-column",{attrs:{label:"1年周期循环个数(万）","header-align":"center",align:"center"}},[a("el-table-column",{attrs:{prop:"A",label:"中值波高","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"B",label:"中值波高","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"C",label:"0.25","header-align":"center",align:"center",formatter:function(t){return e.formatNumber(t.C)}}}),a("el-table-column",{attrs:{prop:"D",label:"0.75","header-align":"center",align:"center",formatter:function(t){return e.formatNumber(t.D)}}}),a("el-table-column",{attrs:{prop:"E",label:"1.25","header-align":"center",align:"center",formatter:function(t){return e.formatNumber(t.E)}}}),a("el-table-column",{attrs:{prop:"F",label:"1.75","header-align":"center",align:"center",formatter:function(t){return e.formatNumber(t.F)}}}),a("el-table-column",{attrs:{prop:"G",label:"2.25","header-align":"center",align:"center",formatter:function(t){return e.formatNumber(t.G)}}}),a("el-table-column",{attrs:{prop:"H",label:"2.75","header-align":"center",align:"center",formatter:function(t){return e.formatNumber(t.H)}}}),a("el-table-column",{attrs:{prop:"I",label:"3.25","header-align":"center",align:"center",formatter:function(t){return e.formatNumber(t.I)}}}),a("el-table-column",{attrs:{prop:"J",label:"3.75","header-align":"center",align:"center",formatter:function(t){return e.formatNumber(t.J)}}}),a("el-table-column",{attrs:{prop:"K",label:"4.25","header-align":"center",align:"center",formatter:function(t){return e.formatNumber(t.K)}}}),a("el-table-column",{attrs:{prop:"L",label:"4.75","header-align":"center",align:"center",formatter:function(t){return e.formatNumber(t.L)}}}),a("el-table-column",{attrs:{prop:"M",label:"5.25","header-align":"center",align:"center",formatter:function(t){return e.formatNumber(t.M)}}}),a("el-table-column",{attrs:{prop:"N",label:"5.75","header-align":"center",align:"center",formatter:function(t){return e.formatNumber(t.N)}}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"flex",align:"middle"}},[a("el-col",{staticStyle:{display:"flex","align-items":"center"},attrs:{span:8}},[a("i",{staticClass:"el-icon-date",staticStyle:{"margin-right":"8.8px",color:"#409EFF"}}),a("el-input-number",{attrs:{min:1,label:"年份"},on:{input:e.change},model:{value:e.multiplier,callback:function(t){e.multiplier=t},expression:"multiplier"}})],1)],1),a("div",{staticClass:"custom-table-container"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData4,border:"",stripe:"","header-cell-style":{background:"#f5f7fa",color:"#4e4b4b",fontWeight:"bold"}}},[a("el-table-column",{attrs:{label:e.multiplier+"年周期循环个数(万）","header-align":"center",align:"center"}},[a("el-table-column",{attrs:{prop:"A",label:"中值波高","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"B",label:"中值波高","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"C",label:"0.25","header-align":"center",align:"center",formatter:function(t){return e.formatNumber(t.C)}}}),a("el-table-column",{attrs:{prop:"D",label:"0.75","header-align":"center",align:"center",formatter:function(t){return e.formatNumber(t.D)}}}),a("el-table-column",{attrs:{prop:"E",label:"1.25","header-align":"center",align:"center",formatter:function(t){return e.formatNumber(t.E)}}}),a("el-table-column",{attrs:{prop:"F",label:"1.75","header-align":"center",align:"center",formatter:function(t){return e.formatNumber(t.F)}}}),a("el-table-column",{attrs:{prop:"G",label:"2.25","header-align":"center",align:"center",formatter:function(t){return e.formatNumber(t.G)}}}),a("el-table-column",{attrs:{prop:"H",label:"2.75","header-align":"center",align:"center",formatter:function(t){return e.formatNumber(t.H)}}}),a("el-table-column",{attrs:{prop:"I",label:"3.25","header-align":"center",align:"center",formatter:function(t){return e.formatNumber(t.I)}}}),a("el-table-column",{attrs:{prop:"J",label:"3.75","header-align":"center",align:"center",formatter:function(t){return e.formatNumber(t.J)}}}),a("el-table-column",{attrs:{prop:"K",label:"4.25","header-align":"center",align:"center",formatter:function(t){return e.formatNumber(t.K)}}}),a("el-table-column",{attrs:{prop:"L",label:"4.75","header-align":"center",align:"center",formatter:function(t){return e.formatNumber(t.L)}}}),a("el-table-column",{attrs:{prop:"M",label:"5.25","header-align":"center",align:"center",formatter:function(t){return e.formatNumber(t.M)}}}),a("el-table-column",{attrs:{prop:"N",label:"5.75","header-align":"center",align:"center",formatter:function(t){return e.formatNumber(t.N)}}})],1)],1)],1),a("div",{staticClass:"reference-link",on:{click:e.JumpToPdf}},[a("p",{staticClass:"reference-text"},[e._v("点击此处获取参数取值依据")])]),e.showPdf?a("PdfViewer",{attrs:{"pdf-name":e.pdfName},on:{close:function(t){e.showPdf=!1}}}):e._e()],1)},r=[],l=a("2909"),o=a("5530"),c=(a("99af"),a("cb29"),a("caad"),a("d81d"),a("13d5"),a("fb6a"),a("a9e3"),a("8ba4"),a("b680"),a("d3b7"),a("25f0"),a("3ca3"),a("0643"),a("a573"),a("9d4a"),a("ddb0"),a("1146")),i=a("cc45"),u=a("6c8a"),s={name:"Page1A",filters:{toFixedTwo:function(e){return e?parseFloat(e).toFixed(2):"0.00"}},components:{PdfViewer:i["default"]},mixins:[u["a"]],data:function(){return{showPdf:!1,pdfName:"",multiplier:1,tableData:[],tableData2:[],tableData3:[],tableData4:[]}},watch:{multiplier:function(){this.calculateTable4()}},mounted:function(){this.change(),this.load()},methods:{formatNumber:function(e){return"number"===typeof e?Number.isInteger(e)?e.toString():e.toFixed(3):e},change:function(){this.load()},load:function(){for(var e=1;e<this.tableData.length;e++){for(var t=0,a=["C","D","E","F","G","H","I","J","K","L","M","N"],n=0,r=a;n<r.length;n++){var l=r[n];t+=Number(this.tableData[e][l])||0}this.tableData[e].O=t}},calculateTable2:function(){var e=this.tableData.slice(1).map((function(e){return(Number(e.A)||0)*(Number(e.O)||0)})),t=e.reduce((function(e,t){return e+t}),0);console.log("products",e),console.log("sum",t);var a=t?31536e3/t:0,n=a/1e4;this.tableData2=[{A:"总个数（1年）",B:a},{A:"万",B:n}],this.result1=a,this.result2=n},calculateTable3:function(){if(this.tableData&&0!==this.tableData.length){var e=this.result1/1e4,t=["C","D","E","F","G","H","I","J","K","L","M","N"];this.tableData3=this.tableData.map((function(a){var n={};for(var r in a)if(a.hasOwnProperty(r))if(t.includes(r)){var l=Number(a[r]);n[r]=isNaN(l)?a[r]:l*e}else n[r]=a[r];return n}))}},calculateTable4:function(){if(Array.isArray(this.tableData3)&&0!==this.tableData3.length){var e=Number(this.multiplier)||0,t=["C","D","E","F","G","H","I","J","K","L","M","N"];this.tableData4=this.tableData3.map((function(a,n){var r=Object(o["a"])({},a);return 0===n||t.forEach((function(t){var n=Number(a[t]);r[t]=isNaN(n)?a[t]:n*e})),r}))}else this.tableData4=[]},JumpToPdf:function(){this.pdfName="1_1",this.showPdf=!0},downloadSample:function(){var e="/templates//1input_sample.xlsx",t=document.createElement("a");t.href=e,t.download="波浪疲劳循环次数导入模板.xlsx",document.body.appendChild(t),t.click(),document.body.removeChild(t)},uploadExcel:function(e){var t=this,a=e.target.files[0];if(a){var n=new FileReader;n.onload=function(e){var a=e.target.result,n=c["read"](a,{type:"binary"}),r=n.SheetNames[0],l=n.Sheets[r],o=c["utils"].sheet_to_json(l);console.log("jsonData",o),t.tableData=o.map((function(e){return{A:null!=e["中值波高（m）中值周期"]?e["中值波高（m）中值周期"]:"",B:null!=e["中值波高（m）周期"]?e["中值波高（m）周期"]:"",C:null!=e["0.25 "]?e["0.25 "]:"",D:null!=e["0.75 "]?e["0.75 "]:"",E:null!=e["1.25 "]?e["1.25 "]:"",F:null!=e["1.75 "]?e["1.75 "]:"",G:null!=e["2.25 "]?e["2.25 "]:"",H:null!=e["2.75 "]?e["2.75 "]:"",I:null!=e["3.25 "]?e["3.25 "]:"",J:null!=e["3.75 "]?e["3.75 "]:"",K:null!=e["4.25 "]?e["4.25 "]:"",L:null!=e["4.75 "]?e["4.75 "]:"",M:null!=e["5.25 "]?e["5.25 "]:"",N:null!=e["5.75 "]?e["5.75 "]:""}})),console.log("this.tableData",t.tableData),t.$message.success("Excel数据导入成功！"),t.load(),t.calculateTable2(),t.calculateTable3(),t.calculateTable4(),t.$refs.excelInput.value=""},n.readAsBinaryString(a)}else this.$message.warning("请先选择文件！")},formatJson:function(e,t){return t.map((function(t){return e.map((function(e){return t[e]}))}))},exportExcel:function(){var e=this;Promise.all([a.e("chunk-113f5141"),a.e("chunk-3b746916")]).then(a.bind(null,"4bf8")).then((function(t){var a=[["1年周期循环个数(万）","","","","","","","","","","","","",""]],n=["中值波高","中值波高","0.25","0.75","1.25","1.75","2.25","2.75","3.25","3.75","4.25","4.75","5.25","5.75"],r=["A","B","C","D","E","F","G","H","I","J","K","L","M","N"],o=e.formatJson(r,e.tableData3),c=["A1:N1"],i=[[e.multiplier+"年周期循环个数(万）","","","","","","","","","","","","",""]],u=[].concat(n),s=r,b=e.formatJson(s,e.tableData4),m=["A"+(o.length+4)+":N"+(o.length+4)],f=[].concat(a),d=[].concat(n),p=[].concat(c,m),g=Array(n.length).fill(""),h=[].concat(Object(l["a"])(o),[g],i,[u],Object(l["a"])(b)),N=e.filename||"波浪疲劳循环次数-周期循环个数计算表格结果";t.export_json_to_excel({multiHeader:f,header:d,merges:p,data:h,filename:N,autoWidth:e.autoWidth,bookType:e.bookType})}))}}},b=s,m=a("2877"),f=Object(m["a"])(b,n,r,!1,null,null,null);t["default"]=f.exports},6:function(e,t){},"6c8a":function(e,t,a){"use strict";a("b0c0"),a("e9c4"),a("b64b");t["a"]={created:function(){var e=this.$store.getters["pageCache/getPageData"](this.$options.name);e&&(Object.assign(this.$data,JSON.parse(JSON.stringify(e))),console.log("恢复缓存：".concat(this.$options.name)))},beforeRouteLeave:function(e,t,a){this.$store.commit("pageCache/saveTempPageData",{page:this.$options.name,data:JSON.parse(JSON.stringify(this.$data))}),console.log("离开页面缓存：".concat(this.$options.name)),a()}}},7:function(e,t){},8:function(e,t){},"81d5":function(e,t,a){"use strict";var n=a("7b0b"),r=a("23cb"),l=a("50c4");e.exports=function(e){var t=n(this),a=l(t.length),o=arguments.length,c=r(o>1?arguments[1]:void 0,a),i=o>2?arguments[2]:void 0,u=void 0===i?a:r(i,a);while(u>c)t[c++]=e;return t}},9:function(e,t){},cb29:function(e,t,a){var n=a("23e7"),r=a("81d5"),l=a("44d2");n({target:"Array",proto:!0},{fill:r}),l("fill")},cc45:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pdf-viewer"},[a("div",{staticClass:"controls"},[a("button",{attrs:{disabled:e.pageNum<=1},on:{click:e.prevPage}},[e._v("上一页")]),a("span",[e._v("第 "+e._s(e.pageNum)+" / "+e._s(e.totalPages)+" 页")]),a("button",{attrs:{disabled:e.pageNum>=e.totalPages},on:{click:e.nextPage}},[e._v("下一页")]),a("button",{on:{click:e.zoomOut}},[e._v("缩小")]),a("span",[e._v("缩放: "+e._s((100*e.scale).toFixed(0))+"%")]),a("button",{on:{click:e.zoomIn}},[e._v("放大")]),a("button",{on:{click:function(t){return e.$emit("close")}}},[e._v("关闭")])]),a("canvas",{ref:"pdfCanvas"})])},r=[],l=a("c14f"),o=a("1da1"),c=a("f9cb"),i=a("8658"),u=a.n(i);c["GlobalWorkerOptions"].workerSrc=u.a;var s={name:"PdfViewer",props:{pdfName:{type:String,required:!0}},data:function(){return{pdfDoc:null,pageNum:1,totalPages:0,scale:1}},watch:{pdfName:"loadPdf"},mounted:function(){this.loadPdf()},methods:{loadPdf:function(){var e=this;return Object(o["a"])(Object(l["a"])().m((function t(){var a,n;return Object(l["a"])().w((function(t){while(1)switch(t.p=t.n){case 0:return a="/pdf/".concat(e.pdfName,".pdf"),t.p=1,t.n=2,c["getDocument"](a).promise;case 2:e.pdfDoc=t.v,e.totalPages=e.pdfDoc.numPages,e.pageNum=1,e.renderPage(),t.n=4;break;case 3:t.p=3,n=t.v,console.error("加载 PDF 出错:",n);case 4:return t.a(2)}}),t,null,[[1,3]])})))()},renderPage:function(){var e=this;return Object(o["a"])(Object(l["a"])().m((function t(){var a,n,r,o,c;return Object(l["a"])().w((function(t){while(1)switch(t.n){case 0:return t.n=1,e.pdfDoc.getPage(e.pageNum);case 1:return a=t.v,n=a.getViewport({scale:e.scale}),r=e.$refs.pdfCanvas,o=r.getContext("2d"),r.height=n.height,r.width=n.width,c={canvasContext:o,viewport:n},t.n=2,a.render(c).promise;case 2:return t.a(2)}}),t)})))()},prevPage:function(){this.pageNum>1&&(this.pageNum--,this.renderPage())},nextPage:function(){this.pageNum<this.totalPages&&(this.pageNum++,this.renderPage())},zoomIn:function(){this.scale+=.2,this.renderPage()},zoomOut:function(){this.scale>.4&&(this.scale-=.2,this.renderPage())}}},b=s,m=(a("0e4b"),a("2877")),f=Object(m["a"])(b,n,r,!1,null,"73facc5c",null);t["default"]=f.exports}}]);