(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7da41f88","chunk-03e394b4"],{"0e4b":function(a,t,e){"use strict";e("492a")},1:function(a,t){},2:function(a,t){},3:function(a,t){},4:function(a,t){},"492a":function(a,t,e){},5:function(a,t){},6:function(a,t){},"6c8a":function(a,t,e){"use strict";e("b0c0"),e("e9c4"),e("b64b");t["a"]={created:function(){var a=this.$store.getters["pageCache/getPageData"](this.$options.name);a&&(Object.assign(this.$data,JSON.parse(JSON.stringify(a))),console.log("恢复缓存：".concat(this.$options.name)))},beforeRouteLeave:function(a,t,e){this.$store.commit("pageCache/saveTempPageData",{page:this.$options.name,data:JSON.parse(JSON.stringify(this.$data))}),console.log("离开页面缓存：".concat(this.$options.name)),e()}}},7:function(a,t){},8:function(a,t){},9:function(a,t){},cc45:function(a,t,e){"use strict";e.r(t);var l=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"pdf-viewer"},[e("div",{staticClass:"controls"},[e("button",{attrs:{disabled:a.pageNum<=1},on:{click:a.prevPage}},[a._v("上一页")]),e("span",[a._v("第 "+a._s(a.pageNum)+" / "+a._s(a.totalPages)+" 页")]),e("button",{attrs:{disabled:a.pageNum>=a.totalPages},on:{click:a.nextPage}},[a._v("下一页")]),e("button",{on:{click:a.zoomOut}},[a._v("缩小")]),e("span",[a._v("缩放: "+a._s((100*a.scale).toFixed(0))+"%")]),e("button",{on:{click:a.zoomIn}},[a._v("放大")]),e("button",{on:{click:function(t){return a.$emit("close")}}},[a._v("关闭")])]),e("canvas",{ref:"pdfCanvas"})])},n=[],r=e("c14f"),o=e("1da1"),i=e("f9cb"),s=e("8658"),c=e.n(s);i["GlobalWorkerOptions"].workerSrc=c.a;var b={name:"PdfViewer",props:{pdfName:{type:String,required:!0}},data:function(){return{pdfDoc:null,pageNum:1,totalPages:0,scale:1}},watch:{pdfName:"loadPdf"},mounted:function(){this.loadPdf()},methods:{loadPdf:function(){var a=this;return Object(o["a"])(Object(r["a"])().m((function t(){var e,l;return Object(r["a"])().w((function(t){while(1)switch(t.p=t.n){case 0:return e="/pdf/".concat(a.pdfName,".pdf"),t.p=1,t.n=2,i["getDocument"](e).promise;case 2:a.pdfDoc=t.v,a.totalPages=a.pdfDoc.numPages,a.pageNum=1,a.renderPage(),t.n=4;break;case 3:t.p=3,l=t.v,console.error("加载 PDF 出错:",l);case 4:return t.a(2)}}),t,null,[[1,3]])})))()},renderPage:function(){var a=this;return Object(o["a"])(Object(r["a"])().m((function t(){var e,l,n,o,i;return Object(r["a"])().w((function(t){while(1)switch(t.n){case 0:return t.n=1,a.pdfDoc.getPage(a.pageNum);case 1:return e=t.v,l=e.getViewport({scale:a.scale}),n=a.$refs.pdfCanvas,o=n.getContext("2d"),n.height=l.height,n.width=l.width,i={canvasContext:o,viewport:l},t.n=2,e.render(i).promise;case 2:return t.a(2)}}),t)})))()},prevPage:function(){this.pageNum>1&&(this.pageNum--,this.renderPage())},nextPage:function(){this.pageNum<this.totalPages&&(this.pageNum++,this.renderPage())},zoomIn:function(){this.scale+=.2,this.renderPage()},zoomOut:function(){this.scale>.4&&(this.scale-=.2,this.renderPage())}}},u=b,d=(e("0e4b"),e("2877")),p=Object(d["a"])(u,l,n,!1,null,"73facc5c",null);t["default"]=p.exports},dfcd:function(a,t,e){"use strict";e.r(t);var l=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticStyle:{"background-color":"#f5f7fa",padding:"20px","border-radius":"8px"}},[e("div",{staticStyle:{"margin-bottom":"20px"}},[e("el-button",{attrs:{type:"primary",icon:"el-icon-document"},on:{click:function(t){return a.$refs.excelInput.click()}}},[a._v("上传数据")]),e("input",{ref:"excelInput",staticStyle:{display:"none"},attrs:{type:"file",accept:".xlsx, .xls"},on:{change:a.uploadExcel}}),e("el-button",{attrs:{type:"primary",icon:"el-icon-data-analysis"},on:{click:a.drawChart}},[a._v("绘制折线图")]),e("el-button",{attrs:{type:"primary",icon:"el-icon-document"},on:{click:a.exportExcel}},[a._v("导出表格数据")])],1),e("div",{staticClass:"custom-card"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:a.tableData1,border:"",stripe:"","header-cell-style":{background:"#f5f7fa",color:"#4e4b4b",fontWeight:"bold"}}},[e("el-table-column",{attrs:{label:"基本输入参数","header-align":"center",align:"center"}},[e("el-table-column",{attrs:{prop:"B4",label:"筒直径DO/m","header-align":"center",align:"center","min-width":"120"},scopedSlots:a._u([{key:"default",fn:function(t){return[t.$index<=1?e("div",{staticClass:"editable-cell"},[e("el-input",{staticClass:"centered-input",attrs:{placeholder:"",size:"small"},on:{input:a.change},model:{value:t.row.B4,callback:function(e){a.$set(t.row,"B4",e)},expression:"scope.row.B4"}})],1):e("div",{staticClass:"readonly-cell"},[a._v(" "+a._s(t.row.B4)+" ")])]}}])},[e("template",{slot:"header"},[e("span",{domProps:{innerHTML:a._s("筒直径D<sub>O</sub>/m")}})])],2),e("el-table-column",{attrs:{prop:"B5",label:"筒壁厚t/m","header-align":"center",align:"center","min-width":"120"},scopedSlots:a._u([{key:"default",fn:function(t){return[t.$index<=1?e("div",{staticClass:"editable-cell"},[e("el-input",{staticClass:"centered-input",attrs:{placeholder:"",size:"small"},on:{input:a.change},model:{value:t.row.B5,callback:function(e){a.$set(t.row,"B5",e)},expression:"scope.row.B5"}})],1):e("div",{staticClass:"readonly-cell"},[a._v(" "+a._s(t.row.B5)+" ")])]}}])}),e("el-table-column",{attrs:{prop:"B6",label:"分舱板长度/m","header-align":"center",align:"center","min-width":"120"},scopedSlots:a._u([{key:"default",fn:function(t){return[t.$index<=1?e("div",{staticClass:"editable-cell"},[e("el-input",{staticClass:"centered-input",attrs:{placeholder:"",size:"small"},on:{input:a.change},model:{value:t.row.B6,callback:function(e){a.$set(t.row,"B6",e)},expression:"scope.row.B6"}})],1):e("div",{staticClass:"readonly-cell"},[a._v(" "+a._s(t.row.B6)+" ")])]}}])}),e("el-table-column",{attrs:{prop:"B7",label:"分舱板壁厚/m","header-align":"center",align:"center","min-width":"120"},scopedSlots:a._u([{key:"default",fn:function(t){return[t.$index<=1?e("div",{staticClass:"editable-cell"},[e("el-input",{staticClass:"centered-input",attrs:{placeholder:"",size:"small"},on:{input:a.change},model:{value:t.row.B7,callback:function(e){a.$set(t.row,"B7",e)},expression:"scope.row.B7"}})],1):e("div",{staticClass:"readonly-cell"},[a._v(" "+a._s(t.row.B7)+" ")])]}}])}),e("el-table-column",{attrs:{prop:"B8",label:"内舱板长度/m","header-align":"center",align:"center","min-width":"120"},scopedSlots:a._u([{key:"default",fn:function(t){return[t.$index<=1?e("div",{staticClass:"editable-cell"},[e("el-input",{staticClass:"centered-input",attrs:{placeholder:"",size:"small"},on:{input:a.change},model:{value:t.row.B8,callback:function(e){a.$set(t.row,"B8",e)},expression:"scope.row.B8"}})],1):e("div",{staticClass:"readonly-cell"},[a._v(" "+a._s(t.row.B8)+" ")])]}}])}),e("el-table-column",{attrs:{prop:"B9",label:"分舱板壁厚/m","header-align":"center",align:"center","min-width":"120"},scopedSlots:a._u([{key:"default",fn:function(t){return[t.$index<=1?e("div",{staticClass:"editable-cell"},[e("el-input",{staticClass:"centered-input",attrs:{placeholder:"",size:"small"},on:{input:a.change},model:{value:t.row.B9,callback:function(e){a.$set(t.row,"B9",e)},expression:"scope.row.B9"}})],1):e("div",{staticClass:"readonly-cell"},[a._v(" "+a._s(t.row.B9)+" ")])]}}])})],1)],1),e("el-table",{staticStyle:{width:"100%"},attrs:{data:a.tableData1,border:"",stripe:"","header-cell-style":{background:"#f5f7fa",color:"#4e4b4b",fontWeight:"bold"}}},[e("el-table-column",{attrs:{prop:"B10",label:"通长加劲肋长度/m","header-align":"center",align:"center","min-width":"120"},scopedSlots:a._u([{key:"default",fn:function(t){return[t.$index<=1?e("div",{staticClass:"editable-cell"},[e("el-input",{staticClass:"centered-input",attrs:{placeholder:"",size:"small"},on:{input:a.change},model:{value:t.row.B10,callback:function(e){a.$set(t.row,"B10",e)},expression:"scope.row.B10"}})],1):e("div",{staticClass:"readonly-cell"},[a._v(" "+a._s(t.row.B10)+" ")])]}}])}),e("el-table-column",{attrs:{prop:"B11",label:"通长加劲肋壁厚/m","header-align":"center",align:"center","min-width":"120"},scopedSlots:a._u([{key:"default",fn:function(t){return[t.$index<=1?e("div",{staticClass:"editable-cell"},[e("el-input",{staticClass:"centered-input",attrs:{placeholder:"",size:"small"},on:{input:a.change},model:{value:t.row.B11,callback:function(e){a.$set(t.row,"B11",e)},expression:"scope.row.B11"}})],1):e("div",{staticClass:"readonly-cell"},[a._v(" "+a._s(t.row.B11)+" ")])]}}])}),e("el-table-column",{attrs:{prop:"B33",label:"水深/m","header-align":"center",align:"center","min-width":"120"},scopedSlots:a._u([{key:"default",fn:function(t){return[t.$index<=1?e("div",{staticClass:"editable-cell"},[e("el-input",{staticClass:"centered-input",attrs:{placeholder:"",size:"small"},on:{input:a.change},model:{value:t.row.B33,callback:function(e){a.$set(t.row,"B33",e)},expression:"scope.row.B33"}})],1):e("div",{staticClass:"readonly-cell"},[a._v(" "+a._s(t.row.B33)+" ")])]}}])}),e("el-table-column",{attrs:{prop:"B34",label:"筒高/m","header-align":"center",align:"center","min-width":"120"},scopedSlots:a._u([{key:"default",fn:function(t){return[t.$index<=1?e("div",{staticClass:"editable-cell"},[e("el-input",{staticClass:"centered-input",attrs:{placeholder:"",size:"small"},on:{input:a.change},model:{value:t.row.B34,callback:function(e){a.$set(t.row,"B34",e)},expression:"scope.row.B34"}})],1):e("div",{staticClass:"readonly-cell"},[a._v(" "+a._s(t.row.B34)+" ")])]}}])}),e("el-table-column",{attrs:{prop:"B35",label:"泵能提供的大气压/kpa","header-align":"center",align:"center","min-width":"120"},scopedSlots:a._u([{key:"default",fn:function(t){return[t.$index<=1?e("div",{staticClass:"editable-cell"},[e("el-input",{staticClass:"centered-input",attrs:{placeholder:"",size:"small"},on:{input:a.change},model:{value:t.row.B35,callback:function(e){a.$set(t.row,"B35",e)},expression:"scope.row.B35"}})],1):e("div",{staticClass:"readonly-cell"},[a._v(" "+a._s(t.row.B35)+" ")])]}}])})],1),e("el-table",{staticStyle:{width:"100%"},attrs:{data:a.tableData1,border:"",stripe:"","header-cell-style":{background:"#f5f7fa",color:"#4e4b4b",fontWeight:"bold"}}},[e("el-table-column",{attrs:{label:"单位高度的筒侧面积/m²","header-align":"center",align:"center"}},[e("el-table-column",{attrs:{prop:"B13",label:"单位高度筒壁面积/m²","header-align":"center",align:"center","min-width":"120",formatter:function(t){return a.formatNumber(t.B13)}}}),e("el-table-column",{attrs:{prop:"B14",label:"单位面积高度分舱板面积/m²","header-align":"center",align:"center","min-width":"120",formatter:function(t){return a.formatNumber(t.B14)}}}),e("el-table-column",{attrs:{prop:"B15",label:"单位面积高度内舱板面积/m²","header-align":"center",align:"center","min-width":"120",formatter:function(t){return a.formatNumber(t.B15)}}}),e("el-table-column",{attrs:{prop:"B16",label:"单位面积高度筒内桩面积/m²","header-align":"center",align:"center","min-width":"120"},scopedSlots:a._u([{key:"default",fn:function(t){return[t.$index<=1?e("div",{staticClass:"editable-cell"},[e("el-input",{staticClass:"centered-input",attrs:{placeholder:"",size:"small"},on:{input:a.change},model:{value:t.row.B16,callback:function(e){a.$set(t.row,"B16",e)},expression:"scope.row.B16"}})],1):e("div",{staticClass:"readonly-cell"},[a._v(" "+a._s(t.row.B16)+" ")])]}}])}),e("el-table-column",{attrs:{prop:"B17",label:"单位面积高度通长加筋肋面积/m²","header-align":"center",align:"center","min-width":"120"},scopedSlots:a._u([{key:"default",fn:function(t){return[t.$index<=1?e("div",{staticClass:"editable-cell"},[e("el-input",{staticClass:"centered-input",attrs:{placeholder:"",size:"small"},on:{input:a.change},model:{value:t.row.B17,callback:function(e){a.$set(t.row,"B17",e)},expression:"scope.row.B17"}})],1):e("div",{staticClass:"readonly-cell"},[a._v(" "+a._s(t.row.B17)+" ")])]}}])}),e("el-table-column",{attrs:{prop:"B18",label:"总单位高度侧面积/m²","header-align":"center",align:"center","min-width":"120",formatter:function(t){return a.formatNumber(t.B18)}}})],1)],1),e("el-table",{staticStyle:{width:"100%"},attrs:{data:a.tableData1,border:"",stripe:"","header-cell-style":{background:"#f5f7fa",color:"#4e4b4b",fontWeight:"bold"}}},[e("el-table-column",{attrs:{label:"筒端面积/m²","header-align":"center",align:"center"}},[e("el-table-column",{attrs:{prop:"B20",label:"筒壁端面积/m²","header-align":"center",align:"center",formatter:function(t){return a.formatNumber(t.B20)}}}),e("el-table-column",{attrs:{prop:"B21",label:"分舱板端面积/m²","header-align":"center",align:"center","min-width":"120",formatter:function(t){return a.formatNumber(t.B21)}}}),e("el-table-column",{attrs:{prop:"B22",label:"分舱板端面积/m²","header-align":"center",align:"center","min-width":"120",formatter:function(t){return a.formatNumber(t.B22)}}}),e("el-table-column",{attrs:{prop:"B23",label:"筒内桩端面积/m²","header-align":"center",align:"center","min-width":"120"},scopedSlots:a._u([{key:"default",fn:function(t){return[t.$index<=1?e("div",{staticClass:"editable-cell"},[e("el-input",{staticClass:"centered-input",attrs:{placeholder:"",size:"small"},on:{input:a.change},model:{value:t.row.B23,callback:function(e){a.$set(t.row,"B23",e)},expression:"scope.row.B23"}})],1):e("div",{staticClass:"readonly-cell"},[a._v(" "+a._s(t.row.B23)+" ")])]}}])}),e("el-table-column",{attrs:{prop:"B24",label:"通长加劲肋端面积/m²","header-align":"center",align:"center","min-width":"120"},scopedSlots:a._u([{key:"default",fn:function(t){return[t.$index<=1?e("div",{staticClass:"editable-cell"},[e("el-input",{staticClass:"centered-input",attrs:{placeholder:"",size:"small"},on:{input:a.change},model:{value:t.row.B24,callback:function(e){a.$set(t.row,"B24",e)},expression:"scope.row.B24"}})],1):e("div",{staticClass:"readonly-cell"},[a._v(" "+a._s(t.row.B24)+" ")])]}}])}),e("el-table-column",{attrs:{prop:"B25",label:"总端面积/m²","header-align":"center",align:"center","min-width":"120",formatter:function(t){return a.formatNumber(t.B25)}}})],1)],1),e("el-table",{staticStyle:{width:"100%"},attrs:{data:a.tableData1,border:"",stripe:"","header-cell-style":{background:"#f5f7fa",color:"#4e4b4b",fontWeight:"bold"}}},[e("el-table-column",{attrs:{label:"总端面积和顶盖面积/m²","header-align":"center",align:"center"}},[e("el-table-column",{attrs:{prop:"B27",label:"减阻环增加的端面积/m²","header-align":"center",align:"center","min-width":"120"},scopedSlots:a._u([{key:"default",fn:function(t){return[t.$index<=1?e("div",{staticClass:"editable-cell"},[e("el-input",{staticClass:"centered-input",attrs:{placeholder:"",size:"small"},on:{input:a.change},model:{value:t.row.B27,callback:function(e){a.$set(t.row,"B27",e)},expression:"scope.row.B27"}})],1):e("div",{staticClass:"readonly-cell"},[a._v(" "+a._s(t.row.B27)+" ")])]}}])}),e("el-table-column",{attrs:{prop:"B28",label:"减阻环+总端面积/m²","header-align":"center",align:"center","min-width":"120",formatter:function(t){return a.formatNumber(t.B28)}}}),e("el-table-column",{attrs:{prop:"B31",label:"顶盖面积/m²","header-align":"center",align:"center","min-width":"120",formatter:function(t){return a.formatNumber(t.B31)}}})],1)],1)],1),e("div",[e("el-button",{staticStyle:{margin:"10px 0"},attrs:{type:"primary",icon:"el-icon-circle-plus"},on:{click:a.openDialog}},[a._v(" 新增单元行 ")]),e("div",{staticClass:"custom-card"},[e("el-table",{attrs:{data:a.tableData2,border:"",stripe:"","header-cell-style":{background:"#f5f7fa",color:"#4e4b4b",fontWeight:"bold"}}},[e("el-table-column",{attrs:{label:"有限元屈计算限值曲线（限值曲线4）","header-align":"center",align:"center"}},[e("el-table-column",{attrs:{prop:"A",label:"无支长度（有限元屈计算）/m","header-align":"center",align:"center"},scopedSlots:a._u([{key:"default",fn:function(t){return[e("el-input",{staticClass:"centered-input",attrs:{placeholder:"",size:"small"},on:{input:a.change},model:{value:t.row.A,callback:function(e){a.$set(t.row,"A",e)},expression:"scope.row.A"}})]}}])}),e("el-table-column",{attrs:{prop:"B",label:"屈曲压差/kPa","header-align":"center",align:"center"},scopedSlots:a._u([{key:"default",fn:function(t){return[e("el-input",{staticClass:"centered-input",attrs:{placeholder:"",size:"small"},on:{input:a.change},model:{value:t.row.B,callback:function(e){a.$set(t.row,"B",e)},expression:"scope.row.B"}})]}}])})],1)],1)],1),e("el-dialog",{attrs:{title:"有限元屈计算限值曲线（限值曲线4） 新增单元行",visible:a.dialogVisible,width:"450px"},on:{"update:visible":function(t){a.dialogVisible=t}}},[e("el-form",{attrs:{model:a.newRow,"label-width":"250px"}},[e("el-form-item",{attrs:{label:"有限元屈计算限值曲线（限值曲线4）"}},[e("el-input",{model:{value:a.newRow.A,callback:function(t){a.$set(a.newRow,"A",t)},expression:"newRow.A"}})],1),e("el-form-item",{attrs:{label:"屈曲压差/kPa"}},[e("el-input",{model:{value:a.newRow.B,callback:function(t){a.$set(a.newRow,"B",t)},expression:"newRow.B"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(t){a.dialogVisible=!1}}},[a._v("取消")]),e("el-button",{attrs:{type:"primary"},on:{click:a.addRow}},[a._v("确定")])],1)],1)],1),e("div",[e("el-button",{staticStyle:{margin:"10px 0"},attrs:{type:"primary",icon:"el-icon-circle-plus"},on:{click:a.openDialog3}},[a._v(" 新增单元行 ")]),e("div",{staticClass:"custom-card"},[e("el-table",{attrs:{data:a.tableData3,border:"",stripe:"","header-cell-style":{background:"#f5f7fa",color:"#4e4b4b",fontWeight:"bold"}}},[e("el-table-column",{attrs:{label:"有限元屈计算限值曲线（限值曲线5）","header-align":"center",align:"center"}},[e("el-table-column",{attrs:{prop:"A",label:"无支长度（规范屈曲计算）/m","header-align":"center",align:"center"},scopedSlots:a._u([{key:"default",fn:function(t){return[e("el-input",{staticClass:"centered-input",attrs:{placeholder:"",size:"small"},on:{input:a.change},model:{value:t.row.A,callback:function(e){a.$set(t.row,"A",e)},expression:"scope.row.A"}})]}}])}),e("el-table-column",{attrs:{prop:"B",label:"屈曲压差/kPa","header-align":"center",align:"center"},scopedSlots:a._u([{key:"default",fn:function(t){return[e("el-input",{staticClass:"centered-input",attrs:{placeholder:"",size:"small"},on:{input:a.change},model:{value:t.row.B,callback:function(e){a.$set(t.row,"B",e)},expression:"scope.row.B"}})]}}])})],1)],1)],1),e("el-dialog",{attrs:{title:"有限元屈计算限值曲线（限值曲线5） 新增单元行",visible:a.dialogVisible3,width:"450px"},on:{"update:visible":function(t){a.dialogVisible3=t}}},[e("el-form",{attrs:{model:a.newRow3,"label-width":"250px"}},[e("el-form-item",{attrs:{label:"无支长度（规范屈曲计算）/m"}},[e("el-input",{model:{value:a.newRow3.A,callback:function(t){a.$set(a.newRow3,"A",t)},expression:"newRow3.A"}})],1),e("el-form-item",{attrs:{label:"屈曲压差/kPa"}},[e("el-input",{model:{value:a.newRow3.B,callback:function(t){a.$set(a.newRow3,"B",t)},expression:"newRow3.B"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(t){a.dialogVisible3=!1}}},[a._v("取消")]),e("el-button",{attrs:{type:"primary"},on:{click:a.addRow3}},[a._v("确定")])],1)],1)],1),e("div",{staticClass:"custom-card"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:a.tableData5,border:"",stripe:"",height:"1000","header-cell-style":{background:"#f5f7fa",color:"#4e4b4b",fontWeight:"bold"}}},[e("el-table-column",{attrs:{prop:"D",label:"土层名称","header-align":"center",align:"center",formatter:function(t){return a.formatNumber(t.D)},width:"50"}}),e("el-table-column",{attrs:{prop:"G",label:"z下沉深度/m","header-align":"center",align:"center",formatter:function(t){return a.formatNumber(t.G)}}}),e("el-table-column",{attrs:{label:"设计曲线","header-align":"center",align:"center"}},[e("el-table-column",{attrs:{prop:"W",label:"CPT推荐值 压差/kPa","header-align":"center",align:"center",formatter:function(t){return a.formatNumber(t.W)}}}),e("el-table-column",{attrs:{prop:"AB",label:"CPT最大值 压差/kPa","header-align":"center",align:"center",formatter:function(t){return a.formatNumber(t.AB)}}}),e("el-table-column",{attrs:{prop:"AO",label:"砂土CPT+黏土Su 需要压差/kPa","header-align":"center",align:"center",formatter:function(t){return a.formatNumber(t.AO)}}},[e("template",{slot:"header"},[e("span",{domProps:{innerHTML:a._s("砂土CPT+黏土Su<br> 需要压差/kPa")}})])],2),e("el-table-column",{attrs:{prop:"CK",label:"强度指标法 需要压差/kPa","header-align":"center",align:"center",formatter:function(t){return a.formatNumber(t.CK)}}},[e("template",{slot:"header"},[e("span",{domProps:{innerHTML:a._s("强度指标法<br> 需要压差/kPa")}})])],2)],1),e("el-table-column",{attrs:{label:"压差限值曲线","header-align":"center",align:"center"}},[e("el-table-column",{attrs:{prop:"BE",label:"砂土渗透+黏土土塞压差/kpa","header-align":"center",align:"center",width:"120",formatter:function(t){return a.formatNumber(t.BE)}}}),e("el-table-column",{attrs:{prop:"BF",label:"可用压差/kPa","header-align":"center",align:"center",width:"120",formatter:function(t){return a.formatNumber(t.BF)}}}),e("el-table-column",{attrs:{prop:"BG",label:"空化控制压差/kpa","header-align":"center",align:"center",width:"120",formatter:function(t){return a.formatNumber(t.BG)}}})],1)],1)],1),e("div",{staticStyle:{width:"100%",height:"600px","margin-top":"20px"},attrs:{id:"chartContainer"}}),e("div",{staticClass:"reference-link",on:{click:a.JumpToPdf}},[e("p",{staticClass:"reference-text"},[a._v("点击此处获取参数取值依据")])]),a.showPdf?e("PdfViewer",{attrs:{"pdf-name":a.pdfName},on:{close:function(t){a.showPdf=!1}}}):a._e()],1)},n=[],r=e("2909"),o=e("5530"),i=(e("99af"),e("cb29"),e("d81d"),e("b0c0"),e("a9e3"),e("8ba4"),e("b680"),e("d3b7"),e("25f0"),e("3ca3"),e("0643"),e("a573"),e("ddb0"),e("1146")),s=e("313e"),c=e("cc45"),b=e("6c8a"),u={name:"Page15B",components:{PdfViewer:c["default"]},mixins:[b["a"]],data:function(){return{showPdf:!1,pdfName:"",tableData1:[{B4:14.5,B5:.03,B6:0,B7:0,B8:0,B9:0,B10:0,B11:0,B3:null,B14:null,B15:null,B16:0,B17:0,B18:null,B20:null,B21:null,B22:null,B23:0,B24:0,B25:null,B27:0,B28:null,B29:null,B30:null,B31:null,B33:25,B34:18,B35:40}],tableData2:[{A:0,B:73.5},{A:2,B:83.5},{A:4,B:98},{A:8,B:144},{A:12,B:282.35}],tableData3:[{A:0,B:61.12055006},{A:2,B:69.94561576},{A:4,B:81.77110757},{A:6,B:98.45854561},{A:8,B:123.8362953},{A:10,B:167.2922026},{A:13,B:363.0381842}],tableData4:[],tableData5:[],dialogVisible:!1,newRow:{A:"",B:""},dialogVisible3:!1,newRow3:{A:"",B:""}}},mounted:function(){this.load(),this.change()},methods:{formatNumber:function(a){return"number"===typeof a?Number.isInteger(a)?a.toString():a.toFixed(3):a},uploadExcel:function(a){var t=this,e=a.target.files[0];if(e){var l=new FileReader;l.onload=function(a){var e=a.target.result,l=i["read"](e,{type:"binary"}),n=l.SheetNames[0],r=l.Sheets[n],o=i["utils"].sheet_to_json(r);t.tableData4=o.map((function(a){return{D:null!=a["土层名称"]?a["土层名称"]:"",E:null!=a["土层性质(砂土1，黏土2)"]?a["土层性质(砂土1，黏土2)"]:"",F:null!=a["层号(地勘-)"]?a["层号(地勘-)"]:"",G:null!=a["z下沉深度/m"]?a["z下沉深度/m"]:"",H:null!=a["自重/MN"]?a["自重/MN"]:"",I:null!=a["qc平均锥尖阻力/kpa(勘察报告给)"]?a["qc平均锥尖阻力/kpa(勘察报告给)"]:"",J:null!=a["γ‘浮重度/kN·m-3"]?a["γ‘浮重度/kN·m-3"]:"",K:null!=a["c粘聚力/kPa"]?a["c粘聚力/kPa"]:"",L:null!=a["φ内摩擦角/°"]?a["φ内摩擦角/°"]:"",M:null!=a["St灵敏度（2~3）"]?a["St灵敏度（2~3）"]:"",O:null!=a["Nc（黏土算端阻，建议值7.5）"]?a["Nc（黏土算端阻，建议值7.5）"]:"",P:null!=a["kp端阻系数（推荐值）"]?a["kp端阻系数（推荐值）"]:"",Q:null!=a["kf侧阻力系数（推荐值）"]?a["kf侧阻力系数（推荐值）"]:"",R:null!=a["kp端阻系数（最大值）"]?a["kp端阻系数（最大值）"]:"",S:null!=a["kf侧阻力系数（最大值）"]?a["kf侧阻力系数（最大值）"]:""}})),t.$message.success("Excel 数据导入成功！"),t.$refs.excelInput.value="",console.log("上传后的数据:",t.tableData4);for(var s=0,c=0,b=0,u=0,d=0,p=0;p<t.tableData4.length;p++)t.tableData4[p].D=1===t.tableData4[p].E?" 砂土 ":2===t.tableData4[p].E?" 黏土 ":t.tableData4[p].D,t.tableData4[p].N=0===p?20:20+7*(t.tableData4[p].G-0)/3.7,t.tableData4[p].T=0===p?0:(t.tableData4[p].G-t.tableData4[p-1].G)*t.tableData1[0].B13*t.tableData4[p].Q*t.tableData4[p].I,t.tableData4[p].U=t.tableData4[p].P*t.tableData1[0].B25*t.tableData4[p].I,s+=t.tableData4[p].T,t.tableData4[p].V=1*(s+t.tableData4[p].U),t.tableData4[p].W=Math.max((t.tableData4[p].V-1e3*t.tableData4[p].H)/t.tableData1[0].B31,0),t.tableData4[p].Y=0===p?0:(t.tableData4[p].G-t.tableData4[p-1].G)*t.tableData1[0].B13*t.tableData4[p].S*t.tableData4[p].I,t.tableData4[p].Z=0===p?0:t.tableData4[p].R*t.tableData1[0].B25*t.tableData4[p].I,c+=t.tableData4[p].Y,t.tableData4[p].AA=0===p?0:1*(c+t.tableData4[p].Z),t.tableData4[p].AB=Math.max((t.tableData4[p].AA-1e3*t.tableData4[p].H)/t.tableData1[0].B31,0),t.tableData4[p].AD=0===p?t.tableData4[p].J*t.tableData4[p].G:t.tableData4[p].J*(t.tableData4[p].G-t.tableData4[p-1].G)+t.tableData4[p-1].AD,t.tableData4[p].AE=0===p?t.tableData1[0].B13*t.tableData4[p].G:t.tableData1[0].B13*(t.tableData4[p].G-t.tableData4[p-1].G),t.tableData4[p].AF=0===p?0:t.tableData4[p].AE*t.tableData4[p].N*(1/t.tableData4[p].M),b+=t.tableData4[p].AF,t.tableData4[p].AG=0===p?0:b,t.tableData4[p].AI=t.tableData4[p].O*t.tableData4[p].N+t.tableData4[p].J*t.tableData4[p].G,t.tableData4[p].AJ=t.tableData4[p].AI*t.tableData1[0].B25,t.tableData4[p].AL=0===p?t.tableData4[p].T:b,t.tableData4[p].AM=1===t.tableData4[p].E?t.tableData4[p].U:t.tableData4[p].AJ,t.tableData4[p].AN=t.tableData4[p].AL+t.tableData4[p].AM,t.tableData4[p].AO=Math.max((t.tableData4[p].AN-1e3*t.tableData4[p].H)/t.tableData1[0].B31,0),t.tableData4[p].AQ=6.2*(1+.34*Math.atan(t.tableData4[p].G/parseFloat(t.tableData1[0].B4))),t.tableData4[p].AR=t.tableData4[p].N,t.tableData4[p].AS=t.tableData4[p].AR,t.tableData4[p].AT=(t.tableData1[0].B13/2+t.tableData1[0].B14+t.tableData1[0].B15+t.tableData1[0].B17+t.tableData1[0].B16)*t.tableData4[p].G,t.tableData4[0].AU=t.tableData1[0].B31,t.tableData4[p].AV=t.tableData4[p].M,t.tableData4[p].AX=1/t.tableData4[p].AV,t.tableData4[p].AY=2/3*t.tableData4[p].AR,t.tableData4[p].AZ=0===p?0:t.tableData4[p-1].AZ+(t.tableData4[p].AT-t.tableData4[p-1].AT)*t.tableData4[p].AX*t.tableData4[p].AR,t.tableData4[p].BA=t.tableData4[p].AQ*t.tableData4[p].AY+t.tableData4[p].AZ/t.tableData4[0].AU,t.tableData4[p].BC=1.32*Math.pow(t.tableData4[p].G/parseFloat(t.tableData1[0].B4),.75)*parseFloat(t.tableData1[0].B4)*t.tableData4[p].J,t.tableData4[p].BE=1===t.tableData4[p].E?t.tableData4[p].BC:t.tableData4[p].BA,t.tableData4[p].BF=Math.max(10*(parseFloat(t.tableData1[0].B33)-parseFloat(t.tableData1[0].B34)+t.tableData4[p].G)+parseFloat(t.tableData1[0].B35)<0?0:10*(parseFloat(t.tableData1[0].B33)-parseFloat(t.tableData1[0].B34)+t.tableData4[p].G)+parseFloat(t.tableData1[0].B35)),t.tableData4[p].BG=(100+10*(parseFloat(t.tableData1[0].B33)+t.tableData4[p].G-parseFloat(t.tableData1[0].B34)))/1.25,t.tableData4[p].BI=.8*t.tableData4[p].AD*Math.tan(.9*Math.PI*t.tableData4[p].L/180),t.tableData4[p].BJ=p<2?t.tableData1[0].B13*t.tableData4[p].G:t.tableData1[0].B13*(t.tableData4[p].G-t.tableData4[p-1].G),t.tableData4[p].BK=0===p?0:t.tableData4[p].BJ*t.tableData4[p].BI,u+=t.tableData4[p].BK,t.tableData4[p].BL=u,t.tableData4[p].BM=Math.pow(2.71828,3.1415926*Math.tan(Math.PI*t.tableData4[p].L/180))*Math.pow(Math.tan(Math.PI*(45+t.tableData4[p].L/2)/180),2),t.tableData4[p].BN=1.5*(t.tableData4[p].BM-1)*Math.tan(Math.PI*t.tableData4[p].L/180),t.tableData4[p].BO=t.tableData4[p].BM*(1+.8*Math.tan(.9*Math.PI*t.tableData4[p].L/180))*t.tableData4[p].AD+.5*t.tableData4[p].J*parseFloat(t.tableData1[0].B5)*t.tableData4[p].BN,t.tableData4[p].BP=t.tableData4[p].BO*t.tableData1[0].B25,t.tableData4[p].BQ=t.tableData4[p].H,t.tableData4[p].BT=t.tableData4[p].G,t.tableData4[p].BU=t.tableData4[p].J,t.tableData4[p].BV=t.tableData4[p].AD,t.tableData4[p].BW=t.tableData4[p].M,t.tableData4[p].BX=t.tableData4[p].N,t.tableData4[p].BY=t.tableData4[p].H,t.tableData4[p].BZ=t.tableData4[p].AE,t.tableData4[p].CA=0===p?0:t.tableData4[p].BZ*t.tableData4[p].BX*(1/t.tableData4[p].BW),d+=t.tableData4[p].CA,t.tableData4[p].CB=0===p?0:d,t.tableData4[p].CC=t.tableData4[p].O,t.tableData4[p].CD=t.tableData4[p].CC*t.tableData4[p].BX+t.tableData4[p].BV,t.tableData4[p].CE=t.tableData4[p].CD*t.tableData1[0].B25,t.tableData4[p].CH=0===p?t.tableData4[p].BL:t.tableData4[p].CB,t.tableData4[p].CI=1===t.tableData4[p].E?t.tableData4[p].BP:t.tableData4[p].CE,t.tableData4[p].CJ=t.tableData4[p].CH+t.tableData4[p].CI,t.tableData4[p].CK=Math.max((t.tableData4[p].CJ-1e3*t.tableData4[p].BQ)/t.tableData1[0].B31,0);t.tableData5=t.tableData4.map((function(a){return{D:a.D,G:a.G,W:a.W,AB:a.AB,AO:a.AO,BE:a.BE,BF:a.BF,BG:a.BG,CK:a.CK}})),console.log("表5数据:",t.tableData5)},l.readAsBinaryString(e)}else this.$message.warning("请先选择文件！")},openDialog:function(){this.newRow={A:"",B:""},this.dialogVisible=!0},addRow:function(){""!==this.newRow.A&&""!==this.newRow.B?(this.tableData2.push(Object(o["a"])({},this.newRow)),this.tableData4&&this.tableData4.length>0&&this.drawChart(),this.dialogVisible=!1):this.$message.warning("请输入完整数据")},openDialog3:function(){this.newRow3={A:"",B:""},this.dialogVisible3=!0},addRow3:function(){""!==this.newRow3.A&&""!==this.newRow3.B?(this.tableData3.push(Object(o["a"])({},this.newRow3)),this.tableData4&&this.tableData4.length>0&&this.drawChart(),this.dialogVisible3=!1):this.$message.warning("请输入完整数据")},drawChart:function(){var a=this;if(this.tableData4&&0!==this.tableData4.length){var t=this.tableData2.map((function(a){var t;return Number(null!==(t=a.A)&&void 0!==t?t:0)})),e=this.tableData2.map((function(a){var t;return Number(null!==(t=a.B)&&void 0!==t?t:0)})),l=this.tableData3.map((function(a){var t;return Number(null!==(t=a.A)&&void 0!==t?t:0)})),n=this.tableData3.map((function(a){var t;return Number(null!==(t=a.B)&&void 0!==t?t:0)})),o=[{name:"渗透破坏+土塞隆起临界压差",key:"BE"},{name:"可用压差",key:"BF"},{name:"空化控制",key:"BG"}],i=[{name:"CPT-推荐值",key:"W"},{name:"CPT-最大值",key:"AB"},{name:"砂CPT推荐值+黏su",key:"AO"},{name:"砂土φ+黏土su",key:"CK"}],c=document.getElementById("chartContainer"),b=s["init"](c),u={title:{text:"压差分析图",left:"center"},tooltip:{trigger:"axis"},legend:{top:30,type:"plain",orient:"horizontal",width:"80%",itemWidth:20,itemHeight:10,itemGap:12,textStyle:{fontSize:12},data:[].concat(Object(r["a"])(o.map((function(a){return a.name}))),Object(r["a"])(i.map((function(a){return a.name}))),["屈曲临界压差-有限元","屈曲临界压差-规范"])},grid:{top:90,left:60,right:40,bottom:40},xAxis:{type:"value",name:"压差 / kPa",axisLabel:{formatter:"{value}"}},yAxis:{type:"value",name:"下沉深度 / m"},series:[].concat(Object(r["a"])(o.map((function(t){return{name:t.name,type:"line",symbol:"none",smooth:!0,lineStyle:{type:"dashed"},data:a.tableData4.map((function(a){var e,l;return[Number(null!==(e=a[t.key])&&void 0!==e?e:0),Number(null!==(l=a.G)&&void 0!==l?l:0)]}))}}))),Object(r["a"])(i.map((function(t){return{name:t.name,type:"line",symbol:"none",smooth:!0,data:a.tableData4.map((function(a){var e,l;return[Number(null!==(e=a[t.key])&&void 0!==e?e:0),Number(null!==(l=a.G)&&void 0!==l?l:0)]}))}}))),[{name:"屈曲临界压差-有限元",type:"line",symbol:"diamond",lineStyle:{type:"dashed"},itemStyle:{color:"#FF5722"},data:e.map((function(a,l){return[e[l],t[l]]}))},{name:"屈曲临界压差-规范",type:"line",symbol:"triangle",lineStyle:{type:"dotted"},itemStyle:{color:"#3F51B5"},data:n.map((function(a,t){return[n[t],l[t]]}))}])};b.setOption(u),window.addEventListener("resize",(function(){b.resize()}))}else this.$message.warning("请先上传数据！")},exportExcel:function(){var a=this;console.log("导出excel"),Promise.all([e.e("chunk-113f5141"),e.e("chunk-3b746916")]).then(e.bind(null,"4bf8")).then((function(t){if(a.tableData4&&0!==a.tableData4.length){var e=[["有限元屈计算限值曲线（限值曲线4）","","","","","","","",""]],l=["无支长度（有限元屈计算）/m","屈曲压差/kPa"],n=["A","B"],o=a.formatJson(n,a.tableData2),i=["A1:B1"],s=Array(l.length).fill(""),c=[["有限元屈计算限值曲线（限值曲线5）","",""]],b=["无支长度（规范屈曲计算）/m","屈曲压差/kPa"],u=["A","B"],d=a.formatJson(u,a.tableData3),p=a.tableData2.length+4,m=["A".concat(p,":B").concat(p)],f=[["","","设计曲线","","","","压差限值曲线","",""]],h=["Z/下沉深度/m","CPT推荐值 压差/kPa","CPT最大值 压差/kPa","砂土CPT+黏土Su 需要压差/kPa","强度指标法 需要压差/kPa","砂土渗透+黏土土塞压差/kpa","可用压差/kPa","空化控制压差"],D=["D","G","W","AB","AO","CK","BE","BF","BG"],B=a.formatJson(D,a.tableData5),g=a.tableData2.length+a.tableData3.length+7,w=["C".concat(g,":F").concat(g),"G".concat(g,":I").concat(g)],v=[].concat(e),k=[].concat(l),y=[].concat(i,m,w),C=[].concat(Object(r["a"])(o),[s],c,[b],Object(r["a"])(d),[s],f,[h],Object(r["a"])(B)),A=a.filename||"筒形基础沉贯计算（BE）";t.export_json_to_excel({multiHeader:v,header:k,merges:y,data:C,filename:A,autoWidth:a.autoWidth,bookType:a.bookType})}else a.$message.warning("请先上传数据！")})),console.log("导出结束")},formatJson:function(a,t){return t.map((function(t){return a.map((function(a){return t[a]}))}))},change:function(){this.load(),this.tableData4&&this.tableData4.length>0&&this.drawChart()},load:function(){this.tableData1[0].B13=Math.PI*parseFloat(this.tableData1[0].B4)*2,this.tableData1[0].B14=2*parseFloat(this.tableData1[0].B6)*6,this.tableData1[0].B15=2*parseFloat(this.tableData1[0].B8)*6,this.tableData1[0].B18=this.tableData1[0].B13+this.tableData1[0].B14+this.tableData1[0].B15+this.tableData1[0].B16+this.tableData1[0].B17,this.tableData1[0].B20=Math.PI*parseFloat(this.tableData1[0].B4)*parseFloat(this.tableData1[0].B5),this.tableData1[0].B21=parseFloat(this.tableData1[0].B7)*parseFloat(this.tableData1[0].B6)*6,this.tableData1[0].B22=parseFloat(this.tableData1[0].B9)*parseFloat(this.tableData1[0].B8)*6,this.tableData1[0].B25=this.tableData1[0].B20+this.tableData1[0].B21+parseFloat(this.tableData1[0].B23)+this.tableData1[0].B22+parseFloat(this.tableData1[0].B24),this.tableData1[0].B28=this.tableData1[0].B25+parseFloat(this.tableData1[0].B27),this.tableData1[0].B31=Math.PI*Math.pow(parseFloat(this.tableData1[0].B4)/2,2)},JumpToPdf:function(){console.log("pdf跳转"),this.pdfName="1_15",this.showPdf=!0}}},d=u,p=e("2877"),m=Object(p["a"])(d,l,n,!1,null,null,null);t["default"]=m.exports}}]);